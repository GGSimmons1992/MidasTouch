@model List<MidasTouch.Domain.Models.Share>

@{
    ViewData["Title"] = "Order History";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h1 class="text-center text-light bg-dark pagelabel">Account Information</h1>

<div class="container-fluid mb-5">
    Account Balance: $@ViewData["AccountBalance"]
</div>
<div class="card">
    <div class="table-responsive">
        @if (Model.Count > 0)
        {
            <h3>Order History</h3>
            <div>
                Portfolio Value: $@ViewData["PortfolioValue"]
            </div>

            <table class="table table-condensed table-bordered">

                <thead class="bg-primary text-center">
                    <tr>

                        <th>
                            @Html.DisplayName("Action")
                        </th>
                        <th>
                            @Html.DisplayName("Symbol")
                        </th>
                        <th>
                            @Html.DisplayName("Shares Count")
                        </th>
                        <th>
                            @Html.DisplayName("Price")
                        </th>
                        <th>
                            @Html.DisplayName("Total")
                        </th>
                        <th>
                            @Html.DisplayName("Time")
                        </th>


                    </tr>
                </thead>

                <tbody>
                    @foreach (var order in Model)
                    {

                        @if (order.State == "Buy")
                        {
                            <tr class="bg-success text-center">
                                <td>
                                    <p>
                                        @order.State
                                    </p>

                                </td>

                                <td>
                                    <p>
                                        @order.Symbol
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.NumberOfShares
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@order.Price
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@((order.Price) * (order.NumberOfShares))
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.TimeStamp
                                    </p>
                                </td>

                            </tr>
                        }
                        else
                        {
                            <tr class="bg-danger text-center">
                                <td>
                                    <p>
                                        @order.State
                                    </p>

                                </td>

                                <td>
                                    <p>
                                        @order.Symbol
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.NumberOfShares
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@order.Price
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@((order.Price) * (-order.NumberOfShares))
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.TimeStamp
                                    </p>
                                </td>

                            </tr>
                        }


                    }
                </tbody>
            </table>
        }

    </div>
</div>


