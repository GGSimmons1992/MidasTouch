@model List<MidasTouch.Domain.Models.Share>

@{
    ViewData["Title"] = "Order History";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h1 class="text-center text-light bg-warning pagelabel">Account Information</h1>

<div class="container-fluid mb-2">
    <strong style="font-size:30px;">Account Balance:</strong>
    <div class="text-success" style="font-size: 25px;">
        $@ViewData["AccountBalance"]

    </div>
    <div>
        <strong style="font-size:30px;">
            Portfolio Value:

        </strong>
    </div>
    <div class="text-success" style="font-size: 25px;">
        $@ViewData["PortfolioValue"]
    </div>
</div>


<div class="text-center mt-5">
    <div class="container border mb-lg-5 shadow rounded">
        @if (Model.Count > 0)
        {
            <div class="container-fluid text-center">
                <strong style="font-size:30px;" class="text-warning">
                    Order History
                </strong>
            </div>


            <table class="table table-hover table-bordered" align="center">

                <thead class="bg-primary text-center text-light">
                    <tr>

                        <th>
                            @Html.DisplayName("Action")
                        </th>
                        <th>
                            @Html.DisplayName("Symbol")
                        </th>
                        <th>
                            @Html.DisplayName("Shares Count")
                        </th>
                        <th>
                            @Html.DisplayName("Price")
                        </th>
                        <th>
                            @Html.DisplayName("Total")
                        </th>
                        <th>
                            @Html.DisplayName("Time")
                        </th>


                    </tr>
                </thead>

                <tbody>
                    @foreach (var order in Model)
                    {

                        @if (order.State == "Buy")
                        {
                            <tr class="bg-success text-center text-light">
                                <td>
                                    <p>
                                        @order.State
                                    </p>

                                </td>

                                <td>
                                    <p>
                                        @order.Symbol
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.NumberOfShares.ToString("#,##0")
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@order.Price.ToString("#,##0")
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@(((order.Price) * (order.NumberOfShares)).ToString("#,##0"))
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.TimeStamp
                                    </p>
                                </td>

                            </tr>
                        }
                        else
                        {
                            <tr class="bg-danger text-center text-light">
                                <td>
                                    <p>
                                        @order.State
                                    </p>

                                </td>

                                <td>
                                    <p>
                                        @order.Symbol
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.NumberOfShares.ToString("#,##0")
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@order.Price.ToString("#,##0")
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        $@(((order.Price) * (-order.NumberOfShares)).ToString("#,##0"))
                                    </p>
                                </td>
                                <td>
                                    <p>
                                        @order.TimeStamp
                                    </p>
                                </td>

                            </tr>
                        }


                    }
                </tbody>
            </table>
        }

    </div>

</div>
